var scroll_position_absolute,cart_gesamt,gewaehltes_datum,auswahl_tag_final,text_,timeout_index,warteliste_plz,submit_plz_input,gewaehlter_wochentag,lingerie_selection,ausgewaehlter_tag_,kalender,links,colors,filter=new Array(5),cart=new Array(10);function validate(e){var i=e||window.event,t=i.keyCode||i.which;t=String.fromCharCode(t);/[0-9]|\./.test(t)||8==i.keyCode||(i.returnValue=!1,i.preventDefault&&i.preventDefault())}function replace_dot_comma(e){return(e=(e=e.toFixed(2)).toString()).replace(".",",")}function filter_click(e){for(i=0,style_selectedIndex=document.getElementsByClassName("style_selection")[0].selectedIndex,color_selectedIndex=document.getElementsByClassName("color_selection")[0].selectedIndex,"Slips"!=url_lingerie?padding_selectedIndex=document.getElementsByClassName("padding_selection")[0].selectedIndex:padding_selectedIndex=0,sizes_selectedIndex=document.getElementsByClassName("sizing_selection")[0].selectedIndex,0!=style_selectedIndex||0!=color_selectedIndex||0!=padding_selectedIndex||0!=sizes_selectedIndex?document.getElementsByClassName("filter_aufheben")[0].style.display="block":e=-1;i<=3;)0==i&&(0!=style_selectedIndex?filter_style=document.getElementsByClassName("style_selection")[0].options[style_selectedIndex].innerHTML:filter_style=""),1==i&&(0!=color_selectedIndex?filter_color=document.getElementsByClassName("color_selection")[0].options[color_selectedIndex].innerHTML:filter_color=""),"Slips"!=url_lingerie?2==i&&(0!=padding_selectedIndex?filter_padding=document.getElementsByClassName("padding_selection")[0].options[padding_selectedIndex].innerHTML:filter_padding=""):filter_padding="",3==i&&(0!=sizes_selectedIndex?filter_sizes=document.getElementsByClassName("sizing_selection")[0].options[sizes_selectedIndex].innerHTML:filter_sizes=""),i+=1;"Dein Showroom"==url_lingerie?url_lingerie_=url_lingerie:"Slips"==url_lingerie?url_lingerie_="panties":url_lingerie_="lingerie",windowwidth=window.innerWidth,windowheight=window.innerHeight,document.getElementsByClassName("background_loading_products")[0].style.opacity="0.4",document.getElementsByClassName("container_gerichte")[0].style.pointerEvents="none",$.ajax({timeout:15e3,error:function(){document.getElementsByClassName("background_loading_products")[0].style.opacity="1",document.getElementsByClassName("container_gerichte")[0].style.pointerEvents="auto"},type:"GET",url:"/content_abrufen/",dataType:"json",data:{windowheight:windowheight,windowwidth:windowwidth,name:"",group1:url_lingerie_,group2:"",group3:"",color:"",size:"",filter_style:filter_style,filter_color:filter_color,filter_size:filter_sizes,filter_padding:filter_padding},success:function(i){feedback=JSON.parse(i),lingerie_selection=JSON.parse(feedback[0].lingerieselection),filter=JSON.parse(feedback[0].filter),lingerie_laden(),-1==e&&(document.getElementsByClassName("filter_aufheben")[0].style.display="none"),select_filter(),document.getElementsByClassName("background_loading_products")[0].style.opacity="1.0",document.getElementsByClassName("container_gerichte")[0].style.pointerEvents="auto"}})}function select_filter(){for(i=0,document.getElementsByClassName("style_selection")[0].selectedIndex=0,document.getElementsByClassName("color_selection")[0].selectedIndex=0,"Slips"!=url_lingerie&&(document.getElementsByClassName("padding_selection")[0].selectedIndex=0),document.getElementsByClassName("sizing_selection")[0].selectedIndex=0,document.getElementsByClassName("filter_aufheben")[0].style.display="none",zaehler_style=1,zaehler_padding=1,zaehler_color=1,zaehler_sizes=1;i<=filter.length-1;)"Styles"==filter[i].group&&("true"==filter[i].selected&&(document.getElementsByClassName("filter_aufheben")[0].style.display="block",document.getElementsByClassName("style_selection")[0].selectedIndex=zaehler_style),zaehler_style+=1),"Color"==filter[i].group&&("true"==filter[i].selected&&(document.getElementsByClassName("filter_aufheben")[0].style.display="block",document.getElementsByClassName("color_selection")[0].selectedIndex=zaehler_color),zaehler_color+=1),"Padding"==filter[i].group&&("true"==filter[i].selected&&(document.getElementsByClassName("filter_aufheben")[0].style.display="block",document.getElementsByClassName("padding_selection")[0].selectedIndex=zaehler_padding),zaehler_padding+=1),"Sizes"==filter[i].group&&("true"==filter[i].selected&&(document.getElementsByClassName("filter_aufheben")[0].style.display="block",document.getElementsByClassName("sizing_selection")[0].selectedIndex=zaehler_sizes),zaehler_sizes+=1),i+=1}function search_field_sidebar_uebersicht(){document.getElementsByClassName("filter_feld")[0].style.width="90%",document.getElementsByClassName("schliessen_searchbox_uebersicht")[0].style.display="block"}function leave_search_overview(){""==document.getElementsByClassName("filter_feld")[0].value&&"90%"==document.getElementsByClassName("filter_feld")[0].style.width&&(document.getElementsByClassName("filter_feld")[0].style.width="200px",document.getElementsByClassName("schliessen_searchbox_uebersicht")[0].style.display="none",schliessen_searchbox_uebersicht())}function schliessen_searchbox_uebersicht(){$.ajax({type:"GET",url:"/content_abrufen/",dataType:"json",data:{name:"",group1:"lingerie",group2:"",group3:"",color:"",size:"",filter_style:"",filter_color:"",filter_size:"",filter_padding:""},success:function(e){feedback=JSON.parse(e),lingerie_selection=JSON.parse(feedback[0].lingerieselection),filter=JSON.parse(feedback[0].filter),lingerie_laden(),document.getElementsByClassName("filter_feld")[0].value="",leave_search_overview(),document.getElementsByClassName("filter_aufheben")[0].style.display="none"}})}function full_text_search_uebersicht(){$.ajax({type:"GET",url:"/full_text_search/",dataType:"json",data:{search_item:document.getElementsByClassName("filter_feld")[0].value},success:function(e){lingerie_selection=e,document.getElementsByClassName("background_loading_products")[0].innerHTML=show_lingerie_details(),update_wishlist_on_lingerie(),document.getElementsByClassName("filter_boxes")[0].style.opacity="0.4",document.getElementsByClassName("filter_boxes")[0].style.pointerEvents="none"}})}function update_wishlist_on_lingerie(){for(j=0;j<=lingerie_selection.length-1;){for(i=0,markieren="false";i<=wishlist.length-1;)wishlist[i].stylecode==lingerie_selection[j].stylecode&&wishlist[i].colorcode==lingerie_selection[j].colorcode&&(markieren="true"),i+=1;"true"==markieren?wishlist_abrufen_markieren(j):wishlist_abrufen_entmarkieren(j),j+=1}}function showroom_bearbeiten(){quiz_laden()}function get_mein_showroom_results(){document.getElementById("mein_showroom").style.display="block",document.getElementById("brustform").innerHTML,document.getElementsByClassName("brustform_picture")[parseInt(document.getElementById("brustform").innerHTML)].style.display="block",0==document.getElementById("cupproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_1_subtext").innerHTML="Zu groß"),1==document.getElementById("cupproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_1_subtext").innerHTML="Zu klein"),2==document.getElementById("cupproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_1").style.display="none",document.getElementsByClassName("vertical_line_passform_probleme")[0].style.display="none"),0==document.getElementById("bandproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_2_subtext").innerHTML="Zu locker"),1==document.getElementById("bandproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_2_subtext").innerHTML="Zu eng"),2==document.getElementById("bandproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_2").style.display="none",document.getElementsByClassName("vertical_line_passform_probleme")[1].style.display="none"),0==document.getElementById("strapproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_3_subtext").innerHTML="Schneiden ein"),1==document.getElementById("strapproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_3_subtext").innerHTML="Rutschen"),2==document.getElementById("strapproblem").innerHTML&&(document.getElementById("quiz_results_passform_probleme_3").style.display="none"),0==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Du trägst die richtige Größe."),1==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in einer größeren Cupgröße, um Dir etwas mehr Platz zu geben."),2==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in einer kleineren Cupgröße, damit die Cups optimal anliegen."),3==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in der nächstgrößeren Bandweite, damit das Band weniger einengt. Mit steigender Bandweite werden auch die Cups größer, daher empfehlen wir Dir bei der Cupgröße einen Buchstaben kleiner zu wählen."),4==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in der nächstgrößeren Bandweite, damit das Band weniger einengt. Mit steigender Bandweite werden auch die Cups größer, daher geben Dir Cups mit dem gleichen Buchstaben mehr Platz."),5==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in einer kleineren Bandweite, damit das Band optimal anliegt und auf dem letzten Haken geschlossen werden kann. Bei einer kleineren Bandweite fallen auch die Cups kleiner aus."),6==document.getElementById("recommendedsizetext").innerHTML&&(document.getElementById("quiz_results_right_subtext").innerHTML="Versuche unsere BHs in einer kleineren Bandweite, damit das Band optimal anliegt und auf dem letzten Haken geschlossen werden kann. Da bei einer kleineren Bandweite die Cups kleiner ausfallen, solltest Du einen größeren Buchstaben bei der Cupgröße wählen."),document.getElementById("quiz_results_right_headline_subtext").innerHTML="Deine Größe bei Darling Lace ist "+document.getElementById("recommendedbandsize").innerHTML+document.getElementById("recommendedcupsize").innerHTML,document.getElementsByClassName("passform_probleme")[0].innerHTML="DEINE PASSFORM PROBLEME MIT "+document.getElementById("currentbandsize").innerHTML+document.getElementById("currentcupsize").innerHTML}function lingerie_laden(){for(i=0,box="",i=0;i<=links.length-1;)links[i].name==url_lingerie&&("Mein Showroom"==url_lingerie?get_mein_showroom_results():(window.innerWidth>=1e3?picture_overall=links[i].pictureoverallsrc:picture_overall=links[i].pictureoverallsrcmobile,box=box+"<div class='box_overall_picture'><img src='"+picture_overall+"' class='overall_picture' alt='"+links[i].headlineoverall+"'><div class='picture_subtitle' ><p style='margin-top:0px;'><div class='overall_picture_headline'>"+links[i].headlineoverall+"</div><div class='overall_picture_sizes'>"+links[i].groessen+"</div><p class='picture_subsubtitle'>"+links[i].subtitleoverall+"</p></p></div></img></div>",document.getElementById("sub_header_product_page").innerHTML=links[i].group3)),i+=1;if("Wunschliste"!=url_lingerie&&"Geschenkkarten"!=url_lingerie){for("Mein Showroom"!=url_lingerie&&(box+="<div class='filter_uebersicht'>",box+="<img class='schliessen_searchbox_uebersicht' src='/static/x.png' width='15' onclick='schliessen_searchbox_uebersicht();' height='15' alt='schliessen'/></img><input class='filter_feld' name='search' placeholder='Suchen...' onfocus='search_field_sidebar_uebersicht()' onblur='leave_search_overview()' oninput='full_text_search_uebersicht()' alt='suchen'></input>"),box+="</div>",box+="<div class='main_uebersicht'>",box+="<div ><br><br>","Mein Showroom"!=url_lingerie?box+="<div class='filter_boxes'>":box+="<div class='filter_boxes' style='display:none'>",box+="<select class='style_selection'  onchange='filter_click(0)'>",i=0,box+="<option>Stil</option>";i<=filter.length-1;)"Styles"==filter[i].group&&("true"==filter[i].show?box=box+"<option>"+filter[i].name+"</option>":box=box+"<option disabled='true'>"+filter[i].name+"</option>"),i+=1;for(box+="</select>",box+="<select class='color_selection'  onchange='filter_click(1)'>",box+="<option>Farbe</option>",i=0;i<=filter.length-1;)"Color"==filter[i].group&&("true"==filter[i].show?box=box+"<option>"+filter[i].name+"</option>":box=box+"<option disabled='true'>"+filter[i].name+"</option>"),i+=1;if(box+="</select>","Slips"!=url_lingerie){for(box+="<select class='padding_selection' onchange='filter_click(2)'>",box+="<option>Fütterung</option>",i=0;i<=filter.length-1;)"Padding"==filter[i].group&&("true"==filter[i].show?box=box+"<option>"+filter[i].name+"</option>":box=box+"<option disabled='true'>"+filter[i].name+"</option>"),i+=1;box+="</select>"}for(box+="<select class='sizing_selection'  onchange='filter_click(4)'>",i=0,box+="<option>Größen</option>","Slips"!=url_lingerie?anpassung=5:anpassung=1;i<=filter.length-anpassung;)"Sizes"==filter[i].group&&("true"==filter[i].show?box=box+"<option>"+filter[i].name+"</option>":box=box+"<option disabled='true'>"+filter[i].name+"</option>"),i+=1;box+="</select>",box+="<div class='box_filter'><div class='filter_aufheben'  onclick='filter_aufheben()'>Filter aufheben</div></div></div></div>"}else box+="<div class='main_uebersicht' style='marginBottom:100px;margin-top:30px;'></div><br><br><br><br><br>";for(box=box+"<div class='background_loading_products'>"+show_lingerie_details()+"</div>",document.getElementsByClassName("container_gerichte")[0].innerHTML=box+"</div>",update_wishlist_on_lingerie(),""!=document.getElementById("filter_style").innerHTML&&(document.getElementsByClassName("style_selection")[0].value=document.getElementById("filter_style").innerHTML),""!=document.getElementById("filter_color").innerHTML&&(document.getElementsByClassName("color_selection")[0].value=document.getElementById("filter_color").innerHTML),""!=document.getElementById("filter_padding").innerHTML&&(document.getElementsByClassName("padding_selection")[0].value=document.getElementById("filter_padding").innerHTML),""!=document.getElementById("filter_size").innerHTML&&(document.getElementsByClassName("sizing_selection")[0].value=document.getElementById("filter_size").innerHTML),i=0;i<=lingerie_selection.length-1;)pre_load_heart_images(i),i+=1}function filter_aufheben(){document.getElementsByClassName("style_selection")[0].selectedIndex=0,document.getElementsByClassName("color_selection")[0].selectedIndex=0,"Slips"!=url_lingerie&&(document.getElementsByClassName("padding_selection")[0].selectedIndex=0),document.getElementsByClassName("sizing_selection")[0].selectedIndex=0,filter_click(-1),document.getElementsByClassName("filter_aufheben")[0].style.display="none"}function show_lingerie_details(){for(i=0,zaehler=0,box="",array_elemente=0;i<=lingerie_selection.length-1;){for(""!=lingerie_selection[i].pic?(pictures_lingerie=JSON.parse(lingerie_selection[i].pic),picture=pictures_lingerie[0].link):picture="",j=0,box_color="",zaehler_2=0;j<=colors.length-1;){if(colors[j].stylegroupcode==lingerie_selection[i].stylegroupcode)for(marker=j,box_color=box_color+"<div class='colors_huelle'><img src='"+colors[j].pic+"' class='colors' onclick='farbe_click("+j+","+i+")'></img></div>",zaehler_2+=1,j=colors.length,k=0;k<=colors.length-1;)marker!=k&&colors[k].stylegroupcode==lingerie_selection[i].stylegroupcode&&(box_color=box_color+"<div class='colors_huelle'><img src='"+colors[k].pic+"' class='colors' onclick='farbe_click("+k+","+i+")'></img></div>",zaehler_2+=1),k+=1;j+=1}1==zaehler_2&&(box_color=""),0==zaehler&&(box+="<div class='block'>\r",zaehler_boxes=0),window.innerWidth>=300&&window.innerWidth<=499&&(0==zaehler_boxes&&(box+="<div class='box_1' style='padding-left:10px'>"),1==zaehler_boxes&&(box+="<div class='box_1' style='padding-right:10px'>"),zaehler_boxes+=1,zaehler_boxes>1&&(zaehler_boxes=0)),window.innerWidth>=500&&window.innerWidth<=1199&&(0==zaehler_boxes&&(box+="<div class='box_1' style='padding-left:10px'>"),1==zaehler_boxes&&(box+="<div class='box_1'  style='padding-left:5px;padding-right:5px;'>"),2==zaehler_boxes&&(box+="<div class='box_1' style='padding-right:10px'>"),zaehler_boxes+=1,zaehler_boxes>2&&(zaehler_boxes=0)),window.innerWidth>=1200&&(box+="<div class='box_1' >"),link="https://www.darlinglace.com/Produktauswahl/"+lingerie_selection[i].link+"/"+lingerie_selection[i].name,lingerie_selection_details=lingerie_selection[i].details.toString(),lingerie_selection_details=lingerie_selection_details.split("<br>"),title_1="",title_2="",link=encodeURI(link),box=box+"<img class='image_box' src='"+picture+"' onclick='detail_page("+i+")' alt='"+title_1+": "+title_2+"'><img class='herz' src='/static/herz_grey.png' onclick='wishlist_abrufen("+i+",0)' onmouseenter='wishlist_abrufen_markieren("+i+")' onmouseleave='wishlist_abrufen_entmarkieren("+i+")'></img><div class='rotating_loader' onclick='detail_page("+i+")' style='cursor:pointer'><button style='background-color:transparent;' >\t<i class='fa fa-circle-o-notch fa-spin fa-2x' id='button_cart_id_logo' style='display:none;color:#b51d36;'></i></button></div></img><div class='box_erste_ebene'><div class='gericht_auswahl_text' ><h2><a href="+link+">"+lingerie_selection[i].name+"</a></h2></div>","geschenkkarten"!=lingerie_selection[i].productgroup?("Slips"==url_lingerie?price=replace_dot_comma(lingerie_selection[i].pricesubscription):price="19,95","Regular"==document.getElementsByClassName("VIP")[0].innerHTML?box=box+"<div class='price_subscription'>"+price+"  VIP</div></div><div class='box_zweite_ebene'><div class='short_description' ><h2 style='font-weight:300'>"+lingerie_selection[i].descriptionshort+"</h2></div><div class='price_regular'><strike>"+replace_dot_comma(lingerie_selection[i].priceregular)+" </strike></div></div><div class='box_dritte_ebene'><div class='color_auswahl'>"+box_color+"</div>\t</div></div>\r":box=box+"<div class='price_subscription'>"+price+"  VIP</div></div><div class='box_zweite_ebene'><div class='short_description'><h2 style='font-weight:300'>"+lingerie_selection[i].descriptionshort+"</h2></div></div><div class='box_dritte_ebene'><div class='color_auswahl'>"+box_color+"</div>\t</div></div>\r"):box=box+"<div class='price_subscription'> "+replace_dot_comma(lingerie_selection[i].pricesubscription)+" </div></div><div class='box_zweite_ebene'><div class='short_description'><h2 style='font-weight:300'>"+lingerie_selection[i].descriptionshort+"</h2></div></div><div class='box_dritte_ebene'><div class='color_auswahl'>"+box_color+"</div>\t</div></div>\r",zaehler+=1,window.innerWidth<=499?zaehler>=2&&(box+="<span class='stretch'></span></div>\r",zaehler=0):window.innerWidth>=500&&window.innerWidth<=1199?zaehler>=3&&(box+="<span class='stretch'></span></div>\r",zaehler=0):window.innerWidth>=1200&&zaehler>=4&&(box+="<span class='stretch'></span></div>\r",zaehler=0),i+=1}return window.innerWidth>=421&&window.innerWidth<=1199&&(1==zaehler&&(box+="<div class='box_1'></div>",box+="<div class='box_1'></div>",box+="<span class='stretch'></span></div>\r"),2==zaehler&&(box+="<div class='box_1'></div>",box+="<span class='stretch'></span></div>\r")),window.innerWidth>=1200&&(1==zaehler&&(box+="<div class='box_1'></div>",box+="<div class='box_1'></div>",box+="<div class='box_1'></div>",box+="<span class='stretch'></span></div>\r"),2==zaehler&&(box+="<div class='box_1'></div>",box+="<div class='box_1'></div>",box+="<span class='stretch'></span></div>\r"),3==zaehler&&(box+="<div class='box_1'></div>",box+="<span class='stretch'></span></div>\r")),box}function farbe_click(e,i){windowwidth=window.innerWidth,windowheight=window.innerHeight,$.ajax({type:"GET",url:"/big_data_color_click_main_page/",dataType:"json",data:{windowheight:windowheight,windowwidth:windowwidth,stylecode:lingerie_selection[i].stylecode,colorcode:lingerie_selection[i].colorcode,farbe:colors[e].colorcode,position:lingerie_selection[i].position},success:function(t){window.location="/Produktauswahl/"+lingerie_selection[i].link+"/"+colors[e].name}})}function detail_page(e){windowwidth=window.innerWidth,windowheight=window.innerHeight,window.location="/Produktauswahl/"+lingerie_selection[e].link+"/"+lingerie_selection[e].name}function pre_load_heart_images(e){}function wishlist_abrufen_markieren(e){document.getElementsByClassName("herz")[e].src="/static/herz_color.png"}function wishlist_abrufen_entmarkieren(e){"no"==check_whether_wishlist_markiert(e)&&(document.getElementsByClassName("herz")[e].src="/static/herz_grey.png")}function replaceAll(e,i,t){return e.replace(new RegExp(i,"g"),t)}function test(e){e=replaceAll(e,"&quot;",'"');a=JSON.parse(e)}function lingerie_selection_laden(){"Quiz"!=document.getElementsByClassName("lingerie_data")[0].innerHTML?(lingerie_selection=""!=document.getElementsByClassName("lingerie_data")[0].innerHTML?JSON.parse(document.getElementsByClassName("lingerie_data")[0].innerHTML):"",filter=""!=document.getElementsByClassName("filter")[0].innerHTML?JSON.parse(document.getElementsByClassName("filter")[0].innerHTML):"",colors=""!=document.getElementsByClassName("colors")[0].innerHTML?JSON.parse(document.getElementsByClassName("colors")[0].innerHTML):"",""!=document.getElementsByClassName("lingerie_data")[0].innerHTML&&lingerie_laden()):quiz_laden()}function initialize(){"Wunschliste"!=url_lingerie&&"Geschenkkarten"!=url_lingerie&&(document.getElementsByClassName("filter_aufheben")[0].style.display="none",windowwidth=window.innerWidth,windowheight=window.innerHeight),select_filter()}window.onload=function(){for(var e=0;e<=5;e++)filter[e]=new Array;can_click="true",text_=""};